---
layout: post
title: Факторизация чисел
author: Valentin Gubarev
section: experimental
---

<br>Введите натуральное число [2,10<sub>15</sub>)
<input type='text' value='2' style='font-family:monospace' size='15em' maxlength='15' id='number'></input>
<input type='button' value='Разложить' onClick='go()'></input>
<table id='table' style='white-space:pre-wrap' border='1px'>
</table>
		
<script>
  function is_natural_number(input_value){
    for (var i = 0; i < input_value.length; ++i)
      if (input_value[i] < '0' || input_value[i] > '9')
	 return false;
    if (input_value.length >= 16) return false;
    if (input_value[0] >= '2') return true;
    if (input_value.length > 1) return true;
    return false;
  }
      
  function integer_factorization(input_value){
    "use asm";
    var rez = [];
    input_value = +input_value;
    var i = 2 | 0;
    while(input_value % 2 == 0) {
      rez.push(2);
      input_value /= 2;
    }
    i++;
    while(i*i <= input_value){
      if (input_value % i == 0){
        rez.push(i);
        input_value /= i;
      }else i += 2;
    }
    if (input_value > 1)
      rez.push(input_value);
    return rez;
  }

  function go(){
    var input_value = document.getElementById('number').value;
	  
    if (is_natural_number(input_value)){
      var factorization = integer_factorization(input_value);
      var table = document.getElementById('table');
      if (table.innerHTML == '')
	      table.innerHTML = '<th><td>Число</td><td>Через запятую</td><td>Арифметика</td></th>';
      var str_arithmetic = factorization[0];
      for(var i = 1; i < factorization.length; ++i)
	      str_arithmetic += ' &times; ' + factorization[i];
      str_arithmetic += ' = ' + input_value;
      table.innerHTML = '<tr>' +
	      '<td bordercolor=black style="height:5px">' + input_value + '</td>' +
	      '<td bordercolor=black style="height:5px">' + factorization + '</td></tr>' +
	      '<td bordercolor=black style="height:5px">' + str_arithmetic + '</td>' +
	      table.innerHTML;
    }else alert('Не натуральное число из указанного диапазона!');
  }
</script>
